(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{24232:(e,t,a)=>{"use strict";a.d(t,{C:()=>h});var l=a(95155);a(12115);var s=a(13052),n=a(51907);function r(e){let{...t}=e;return(0,l.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function c(e){let{className:t,...a}=e;return(0,l.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,n.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...a})}function o(e){let{className:t,...a}=e;return(0,l.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,n.cn)("inline-flex items-center gap-1.5",t),...a})}function i(e){let{className:t,...a}=e;return(0,l.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,n.cn)("text-foreground font-normal",t),...a})}function d(e){let{children:t,className:a,...r}=e;return(0,l.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,n.cn)("[&>svg]:size-3.5",a),...r,children:null!=t?t:(0,l.jsx)(s.A,{})})}var x=a(76037),u=a(71196);function h(e){let{children:t,title:a,subTitle:s,icon:h,className:m}=e;return(0,l.jsxs)("div",{className:"px-16 flex-1 flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"py-10 flex flex-col gap-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(u.SidebarTrigger,{className:"cursor-pointer"}),(0,l.jsx)(x.Separator,{orientation:"vertical"}),(0,l.jsx)(r,{children:(0,l.jsxs)(c,{children:[(0,l.jsx)(o,{children:"OPanel"}),(0,l.jsx)(d,{}),s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{children:a}),(0,l.jsx)(d,{})]}),(0,l.jsx)(o,{children:(0,l.jsx)(i,{children:null!=s?s:a})})]})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[h,(0,l.jsx)("h1",{className:"text-3xl font-bold",children:null!=s?s:a})]})]}),(0,l.jsx)("div",{className:(0,n.cn)(m,"pb-16"),children:t})]})}},31886:(e,t,a)=>{"use strict";a.d(t,{ow:()=>o,qV:()=>c,y0:()=>n,yq:()=>r});var l=a(23464),s=a(16453);let n="",r=globalThis.window?"ws://".concat(window.location.host):"ws://localhost:3000";async function c(e){return(await l.A.request({method:"get",url:n+e,headers:{"X-Credential-Token":(0,s.getCookie)("token")}})).data}async function o(e,t){let a=t?JSON.stringify(t):"";return(await l.A.request({method:"post",maxBodyLength:1/0,url:n+e,headers:{"Content-Type":"text/plain"},data:a})).data}},49982:(e,t,a)=>{Promise.resolve().then(a.bind(a,72681))},72681:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(95155),s=a(56671),n=a(23323),r=a(24232),c=a(12115),o=a(42355),i=a(13052),d=a(36268),x=a(11032),u=a(88524),h=a(51907),m=a(97168);function g(e){var t;let{columns:a,data:s,pagination:n,className:r}=e,[g,p]=(0,c.useState)({pageIndex:0,pageSize:10}),j=(0,d.N4)({columns:a,data:s,getCoreRowModel:(0,x.HT)(),getPaginationRowModel:n?(0,x.kW)():void 0,onPaginationChange:p,state:{pagination:g}});return(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsx)("div",{className:(0,h.cn)(r,"border rounded-md"),children:(0,l.jsxs)(u.XI,{children:[(0,l.jsx)(u.A0,{children:j.getHeaderGroups().map(e=>(0,l.jsx)(u.Hj,{children:e.headers.map(e=>(0,l.jsx)(u.nd,{children:e.isPlaceholder?null:(0,d.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,l.jsx)(u.BF,{children:(null==(t=j.getRowModel().rows)?void 0:t.length)?j.getRowModel().rows.map(e=>(0,l.jsx)(u.Hj,{children:e.getVisibleCells().map(e=>(0,l.jsx)(u.nA,{children:(0,d.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,l.jsx)(u.Hj,{children:(0,l.jsx)(u.nA,{colSpan:a.length,className:"h-24 text-center",children:"No results."})})})]})}),n&&(0,l.jsxs)("div",{className:"flex gap-3 items-center [&>button]:cursor-pointer",children:[(0,l.jsxs)(m.$,{variant:"outline",onClick:()=>j.previousPage(),disabled:!j.getCanPreviousPage(),children:[(0,l.jsx)(o.A,{}),"上一页"]}),(0,l.jsxs)(m.$,{variant:"outline",onClick:()=>j.nextPage(),disabled:!j.getCanNextPage(),children:["下一页",(0,l.jsx)(i.A,{})]}),(0,l.jsxs)("span",{className:"text-muted-foreground text-sm",children:["第 ",g.pageIndex," 页 / 共 ",j.getPageCount()," 页"]})]})]})}var p=a(6874),j=a.n(p);let f=[{accessorKey:"name",header:()=>(0,l.jsx)("span",{className:"pl-3",children:"日志"}),cell:e=>{var t;let{row:a}=e,s=null!=(t=a.getValue("name"))?t:"";return(0,l.jsx)(m.$,{variant:"link",size:"sm",className:"h-4",asChild:!0,children:(0,l.jsx)(j(),{href:"/panel/logs/view?log=".concat(s),children:s})})}},{accessorKey:"type",header:"类型",cell:e=>{let{row:t}=e;return(0,l.jsx)("span",{className:"text-muted-foreground",children:t.getValue("type")})}}];var b=a(31886);function v(){let[e,t]=(0,c.useState)([]),a=async()=>{try{let e=await (0,b.qV)("/api/logs");t(e.logs)}catch(e){s.oR.error("无法获取日志列表")}};return(0,c.useEffect)(()=>{a()},[]),(0,l.jsx)(r.C,{title:"日志",icon:(0,l.jsx)(n.A,{}),children:(0,l.jsx)(g,{columns:f,data:e.map(e=>({name:e,type:".gz"===e.substring(e.lastIndexOf("."))?"gzip":"log"})),pagination:!0,className:"max-h-[500px] overflow-y-auto"})})}},88524:(e,t,a)=>{"use strict";a.d(t,{A0:()=>r,BF:()=>c,Hj:()=>o,XI:()=>n,nA:()=>d,nd:()=>i});var l=a(95155);a(12115);var s=a(51907);function n(e){let{className:t,...a}=e;return(0,l.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,l.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...a})})}function r(e){let{className:t,...a}=e;return(0,l.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...a})}function c(e){let{className:t,...a}=e;return(0,l.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...a})}function o(e){let{className:t,...a}=e;return(0,l.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function i(e){let{className:t,...a}=e;return(0,l.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function d(e){let{className:t,...a}=e;return(0,l.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[455,257,702,671,464,874,517,196,441,684,358],()=>t(49982)),_N_E=e.O()}]);